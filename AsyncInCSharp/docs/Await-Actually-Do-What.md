关于 C#5.0 async 特性有两点要考虑，特别是 await 关键字，它发生了什么？

- 作为语言特征，它的行为是可以学习。
- 在编译转换期间，这是不使用异步的更复杂的 C# 片段的语法糖

这两点都是正确的；它们是硬币的正反两面。在这节，我们集中讨论第一种 async 方式。在 14 章会讨论另一方面，在更复杂的情况下，它会让调试和性能更加清晰。

# 休眠（Hibernating）和恢复（Rsuming）方法

当你的程序运行到 await 关键字的时候，我们知道两件事会发生：

- 当前线程运行到你的代码会释放使你的代码是异步的。就是说从正常，同步的角度来看，你的方法应该返回。
- 当等待的 Task 完成时，你的方法会继续你使用它（异步 await）的地方，在等待结束之前它是不会提前返回的。

为了完成这些行为，你的方法在到达 await 时候必须暂停，并在稍后的某个时刻恢复。

我认为这个过程是计算机休眠的小规模版本。方法的当前状态存储下来，方法完成并退出。当计算机休眠，动态，正在运行的状态存储到磁盘中并且完全关闭。就像你能拔掉电源电脑休眠没有任何影响一样，一个正在等待的方法使用了比其他都小的内存，执行的线程已经被释放。

> 合在一起分析，方法阻塞很象计算机挂起。它尽管使用很少的资源，但是她还是一直在运行的。

理想情况下，程序不应该能察觉到发生过休眠。尽管事实上在执行过程中休眠和恢复方法是一个相当复杂的操作，C# 会确保你的代码被恢复，就好像什么事没有发生一样。