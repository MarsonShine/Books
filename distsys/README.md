# 分布式系统

## 内容简介

我想写一篇文章，将许多最新的分布式系统--如亚马逊的 Dynamo、谷歌的 BigTable 和 MapReduce、Apache 的 Hadoop 等系统--背后的理念汇集在一起。

在这本书中，我试图对分布式系统进行更通俗易懂的介绍。对我来说，这意味着两件事：介绍你在阅读更严肃的文章时需要的关键概念；提供足够详细的叙述，让你了解事情的要点，而不会被细节所困。现在是 2013 年，你有了互联网，可以有选择性地阅读更多你认为最有趣的话题。

在我看来，分布式编程的大部分内容就是处理分布式的两种后果所带来的影响：

- 信息以光速传播
- 独立事物独立失败。

换句话说，分布式编程的核心是处理距离和拥有多个事物。这些约束条件定义了一个可能的系统设计空间，我希望在阅读完这篇文章后，你能更好地理解距离、时间和一致性模型是如何相互作用的。

这篇文章的重点是分布式编程和系统概念，你需要了解数据中心的商业系统。试图涵盖所有内容是疯狂的。您将学习到许多关键协议和算法（例如，涵盖了该学科中许多被引用次数最多的论文），包括一些尚未写入大学教科书的令人兴奋的最终一致性新方法，如 CRDT 和 CALM 定理。

希望你们喜欢！如果你想表达谢意，请在 [Github](https://github.com/mixu/)（或 [Twitter](https://twitter.com/mikitotakada)）上关注我。如果你发现了错误，[请在 Github 上提交拉取请求](https://github.com/mixu/distsysbook/issues)。

## 1.基础知识

[第一章](intro.md)通过介绍一些重要术语和概念，从高层次上介绍了分布式系统。它涵盖了高层次的目标，如可扩展性、可用性、性能、延迟和容错；这些目标是如何难以实现的，以及抽象和模型以及分区和复制是如何发挥作用的。

## 2.向上和向下的抽象层次

[第二章](abstractions.md)深入探讨了抽象和不可能性结果。它以尼采的一句名言开始，然后介绍了系统模型和典型系统模型中的许多假设。然后讨论 CAP 定理，总结 FLP 不可能性结果。然后讨论 CAP 定理的含义，其中之一是人们应该探索其他一致性模型。接下来将讨论一些一致性模型。

## 3.时间与顺序

理解分布式系统的很大一部分在于理解时间和顺序。如果我们不能理解时间并建立时间模型，我们的系统就会失败。[第三章](time.md)将讨论时间和顺序、时钟以及时间、顺序和时钟的各种用途（如矢量时钟和故障检测器）。

## 4.复制：防止分歧

[第四章](replication.md)介绍了复制问题，以及复制的两种基本方式。事实证明，只需通过这种简单的描述，就能讨论大部分相关特性。然后，讨论了从最小容错（2PC）到 Paxos 等保持单副本一致性的复制方法。

## 5.复制：接受分歧

[第五章](eventual.md)讨论了弱一致性保证的复制。它介绍了一个基本的调和场景，即分区副本试图达成一致。然后，它以亚马逊的 Dynamo 为例，讨论了弱一致性保证的系统设计。最后，讨论了无序编程的两个视角：CRDT 和 CALM 定理。

## 附录

[附录](appendix.md)包括进一步阅读的建议。